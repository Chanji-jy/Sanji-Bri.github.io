<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="css/style.css">
    <link rel="icon" href="img/Pochacco.png" type="image/x-icon">
    <title>Flowers</title>
</head>

<body class="container">
    <audio id="miCancion" src="./sound/AmorMio.mp3" loop></audio>
    <div id="content">
        <!-- Aqu칤 se cargar치 el contenido de las otras p치ginas -->
    </div>

    <script>
        // Funci칩n para cargar contenido din치micamente
        function loadPage(page) {
            fetch(page)
                .then(response => response.text())
                .then(data => {
                    document.getElementById('content').innerHTML = data;
                })
                .catch(error => console.error('Error al cargar la p치gina:', error));
        }

        // Cargar la p치gina inicial
        loadPage('indexContent.html'); // Carga el contenido inicial
        
        // Nuevo c칩digo para manejar el audio
        document.addEventListener('DOMContentLoaded', function() {
            const audio = document.getElementById('miCancion');
            
            // Intentar reproducir autom치ticamente, pero con un evento de interacci칩n del usuario
            const playAudio = function() {
                audio.play().then(() => {
                    console.log('Audio reproduciendo correctamente');
                    // Remover todos los listeners una vez reproducido
                    document.removeEventListener('click', playAudio);
                    document.removeEventListener('touchstart', playAudio);
                    document.removeEventListener('keydown', playAudio);
                }).catch(error => {
                    console.error('No se pudo reproducir el audio:', error);
                });
            };
            
            // A침adir m칰ltiples listeners para maximizar posibilidades de reproducci칩n
            document.addEventListener('click', playAudio);
            document.addEventListener('touchstart', playAudio);
            document.addEventListener('keydown', playAudio);
            
            // Tambi칠n a침adir un bot칩n visible como respaldo
            const audioButton = document.createElement('button');
            audioButton.textContent = '游꿧';
            audioButton.style.position = 'fixed';
            audioButton.style.bottom = '10px';
            audioButton.style.right = '10px';
            audioButton.style.zIndex = '9999';
            audioButton.style.padding = '10px';
            audioButton.style.borderRadius = '50%';
            audioButton.style.background = '#ff69b4';
            audioButton.style.border = 'none';
            audioButton.style.cursor = 'pointer';
            
            audioButton.addEventListener('click', function() {
                playAudio();
                // Opcional: ocultar el bot칩n despu칠s de usarlo
                this.style.display = 'none';
            });
            
            document.body.appendChild(audioButton);
        });
    </script>
   
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // Esperar a que el contenido se cargue
            setTimeout(function() {
                const sceneElement = document.getElementById('scene');
                const buttonElement = document.querySelector('.botones');
                
                // Crear chispas en la pantalla
                createSparkles();
                
                // Si existe el bot칩n, a침adir el evento
                if (buttonElement) {
                    buttonElement.addEventListener('click', function() {
                        createHearts();
                    });
                }
            }, 500); // Peque침o retraso para asegurar que el contenido est치 cargado
            
            // Funci칩n para crear chispas
            function createSparkles() {
                const sparkleCount = 20;

                for (let i = 0; i < sparkleCount; i++) {
                    const sparkle = document.createElement('div');
                    sparkle.classList.add('sparkle');

                    const x = Math.random() * window.innerWidth;
                    const y = Math.random() * window.innerHeight;
                    const delay = Math.random() * 3;
                    const size = 8 + Math.random() * 15;

                    sparkle.style.left = `${x}px`;
                    sparkle.style.top = `${y}px`;
                    sparkle.style.width = `${size}px`;
                    sparkle.style.height = `${size}px`;
                    sparkle.style.animationDelay = `${delay}s`;

                    document.body.appendChild(sparkle);
                }
            }

            // Funci칩n para crear y animar corazones cayendo
            function createHearts() {
                const heartColors = ['#FF66B2', '#FF9ECD', '#FF3385', '#FF0066'];

                // Funci칩n para crear un coraz칩n
                function createHeart() {
                    const heart = document.createElement('div');
                    heart.classList.add('heart');

                    const randomColor = heartColors[Math.floor(Math.random() * heartColors.length)];
                    const x = Math.random() * window.innerWidth;
                    const duration = 5 + Math.random() * 5;
                    const size = 15 + Math.random() * 25;

                    heart.style.left = `${x}px`;
                    heart.style.width = `${size}px`;
                    heart.style.height = `${size}px`;
                    heart.style.animationDuration = `${duration}s`;
                    heart.style.backgroundImage = `url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100"><path d="M50 90 C100 30 120 10 50 40 C-20 10 0 30 50 90" fill="${randomColor}" /></svg>')`;
                    heart.style.backgroundSize = 'cover';

                    document.body.appendChild(heart);

                    // Eliminar el coraz칩n despu칠s de la animaci칩n
                    setTimeout(() => {
                        heart.remove();
                    }, duration * 1000);
                }

                // Crear corazones peri칩dicamente
                const heartInterval = setInterval(() => {
                    createHeart();
                }, 300);
                
                // Opcional: detener los corazones despu칠s de un tiempo
                setTimeout(() => {
                    clearInterval(heartInterval);
                }, 10000); // 10 segundos
            }
            
        });
    </script>
</body>

</html>